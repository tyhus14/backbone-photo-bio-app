var MainView=Backbone.View.extend({className:"jumbo-item",jumboTemplate:_.template($("#jumbo-item-template").text()),initialize:function(){$(".jumbotron-js").html(this.el),this.render()},render:function(){var a=this.jumboTemplate(this.model.attributes);this.$el.html(a)}}),data=[{name:"John Snow",bio:"Jon Snow is the bastard son of Eddard Stark, by a mother whose identity is a source of speculation. He was raised by his father alongside his true-born half-siblings, but joins the Night's Watch when he nears adulthood. He is constantly accompanied by his albino direwolf Ghost.",avatar:"http://1.bp.blogspot.com/-iQCrdclEtE8/UCl_QewxVhI/AAAAAAAAAJs/XxR-dHgNKCE/s1600/jon-snow-1024.jpg"},{name:"Arya Stark",bio:"Arya Stark is the third child and second daughter of Lord Eddard and Lady Catelyn Stark. Like some of her siblings, she sometimes dreams that she is a direwolf. Her own direwolf is Nymeria, who is named in reference to the Rhoynar warrior-queen of the same name.",avatar:"http://thenosebleeds.nextimpulsemedia.netdna-cdn.com/wp-content/uploads/2013/04/arya-plain.jpg"},{name:"Sansa Stark",bio:"Sansa Stark is the elder daughter of Catelyn and Eddard Stark. She has three brothers (Robb, Bran and Rickon), a younger sister, Arya, and a half-brother, Jon Snow.",avatar:"http://static.tumblr.com/bgjgmu3/ksfm1tz45/sansa-stark-game-of-thrones-21795346-1024-576.png"},{name:"Rickon Stark",bio:"Rickon Stark is Eddard and Catelyn's youngest child, only three years old when the series begins. Rickon is a naturally aggressive and strong-willed child, but his youth makes it difficult for him to cope with the terrible changes that come to his family and life. He is usually accompanied by his direwolf, Shaggydog. ",avatar:"http://i.lv3.hbo.com/assets/images/series/game-of-thrones/character/s2/rickon-stark-1024.jpg"},{name:"Bran Stark",bio:"Brandon Stark, typically called Bran, is the second son of Lord Eddard Stark and Lady Catelyn Tully. He is one of the major POV characters in the books. He has four older siblings: Robb, Jon, Sansa, Arya and one younger: Rickon. Like his siblings, he is constantly accompanied by his direwolf, Summer, with whom he shares a strong warg connection.",avatar:"http://fantasticfangirls.org/wp-content/uploads/2013/02/bran.png"},{name:"Robb Stark",bio:"Robb Stark is the eldest son of Eddard Stark and Catelyn Tully and the heir to Winterfell and the North. Upon his father's imprisonment for treason, he raises his banners and marches south with a host to aid his allies in the Riverlands and to free his father.",avatar:"http://static3.wikia.nocookie.net/__cb20130729052060/p__/protagonist/images/2/2c/RobbStark-550x310.png"}],Contact=Backbone.Model.extend({idAttribute:"_id",defaults:{name:"?????",avatar:"http://viewofthearts.files.wordpress.com/2012/02/game-of-thrones.png",bio:"Game of Thrones"}}),ContactsCollection=Backbone.Collection.extend({model:Contact,url:"http://0.0.0.0:3000/collections/contacts"}),ListView=Backbone.View.extend({className:"list-item",createTemplate:_.template($("#list-item-template").text()),events:{"click .avatar-btn":"createMainView"},initialize:function(){$(".js-contact-list").prepend(this.el),this.render(),this.listenTo(this.model,"change",this.render)},render:function(){var a=this.createTemplate(this.model.attributes);this.$el.html(a)},createMainView:function(){console.log(this.model.attributes),new MainView({model:this.model})}});$(document).ready(function(){contacts=new ContactsCollection,contacts.fetch({success:function(){contacts.each(function(a){new ListView({model:a})})},error:function(){console.log("error")}}),$(".create-btn").click(function(){var a=new Contact;$(".name-input").val()&&a.set({name:$(".name-input").val()}),$(".bio-input").val()&&a.set({bio:$(".bio-input").val()}),$(".avatar-input").val()&&a.set({avatar:$(".avatar-input").val()});var b=contacts.add(a);new ListView({model:b}),b.save()}),window.deleteFunction=function(){contacts.each(function(a){console.log(a),$.ajax({type:"delete",url:"http://0.0.0.0:3000/collections/contacts/"+a.get("_id")})})},$(".delete-btn").click(function(){deleteFunction()})});